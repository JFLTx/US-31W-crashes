<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <title>US 31W Crashes - Pre- and Post Construction</title>
    <meta
      name="viewport"
      content="initial-scale=1,maximum-scale=1,user-scalable=no"
    />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1, shrink-to-fit=no"
    />

    <link
      rel="stylesheet"
      href="https://unpkg.com/leaflet@1.5.1/dist/leaflet.css"
      integrity="sha512-xwE/Az9zrjBIphAcBb3F6JVqxf46+CDLwfLMHloNu6KEQCAWi6HcDUbeOfBIptF7tcCzusKFjFw2yuvEpDL9wQ=="
      crossorigin=""
    />
    <link rel="stylesheet" href="css/styles.css" />

    <!-- libre franklin font styles -->
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Libre+Franklin:ital,wght@0,100..900;1,100..900&display=swap"
      rel="stylesheet"
    />
  </head>

  <body>
    <div id="container">
      <div id="side-panel">
        <h2>US 31W Crashes</h2>
        <h3>
          <span style="color: #f40000">Before</span> and
          <span style="color: #2d72ff">After</span> Construction
        </h3>
        <h3>MP 17.677 to MP 21.017</h3>
        <p>
          This web map was developed to show the reduction in both crash totals
          and injury crashes after construction was completed along US 31W in
          Elizabethtown, KY. Crash data was extracted from
          <a target="_blank" href="http://crashinformationky.org/"
            >Kentucky State Police Website</a
          >. Map designed courtesy of
          <a target="_blank" href="https://www.palmernet.com/"
            >Palmer Engineering</a
          >.
        </p>

        <div id="monitoring-periods">
          <!-- First period row -->
          <div class="period-row">
            <div class="period-section">Saint John Road to US 31W Bypass</div>
            <div class="period-details">
              <button
                class="period-button"
                data-filter="Before"
                data-section="Saint John Road to US 31W Bypass"
              >
                <span class="label"
                  ><span style="color: #f40000">Before</span>:</span
                >
                <span class="dates">7/1/18 to 12/31/19</span>
                <span class="duration">(1.5 years)</span>
              </button>
              <button
                class="period-button"
                data-filter="After"
                data-section="Saint John Road to US 31W Bypass"
              >
                <span class="label"
                  ><span style="color: #2d72ff">After</span>:</span
                >
                <span class="dates">3/1/23 to 8/31/24</span>
                <span class="duration">(1.5 years)</span>
              </button>
            </div>
          </div>

          <!-- Second period row -->
          <div class="period-row">
            <div class="period-section">
              US 31W Bypass to KY 3005 (Ring Road)
            </div>
            <div class="period-details">
              <button
                class="period-button"
                data-filter="Before"
                data-section="US 31W Bypass to KY 3005"
              >
                <span class="label"
                  ><span style="color: #f40000">Before</span>:</span
                >
                <span class="dates">1/1/17 to 12/31/18</span>
                <span class="duration">(2.0 years)</span>
              </button>
              <button
                class="period-button"
                data-filter="After"
                data-section="US 31W Bypass to KY 3005"
              >
                <span class="label"
                  ><span style="color: #2d72ff">After</span>:</span
                >
                <span class="dates">9/1/22 to 8/31/24</span>
                <span class="duration">(2.0 years)</span>
              </button>
            </div>
          </div>

          <!-- Third period row -->
          <div class="period-row">
            <div class="period-section">KY 3005 (Ring Road) to Crutz Lane</div>
            <div class="period-details">
              <button
                class="period-button"
                data-filter="Before"
                data-section="KY 3005 to Crutz Lane"
              >
                <span class="label"
                  ><span style="color: #f40000">Before</span>:</span
                >
                <span class="dates">1/1/17 to 12/31/18</span>
                <span class="duration">(2.0 years)</span>
              </button>
              <button
                class="period-button"
                data-filter="After"
                data-section="KY 3005 to Crutz Lane"
              >
                <span class="label"
                  ><span style="color: #2d72ff">After</span>:</span
                >
                <span class="dates">9/1/22 to 8/31/24</span>
                <span class="duration">(2.0 years)</span>
              </button>
            </div>
          </div>
          <!-- Reset Filters Button -->
          <div id="reset-container">
            <button id="reset-filters">Reset Map Filters</button>
          </div>
          <!-- stats -->
          <div id="stats"></div>

          <!-- chart -->
          <div id="chart-container"></div>
        </div>
      </div>

      <!-- Map div -->
      <div id="map"></div>
    </div>

    <!-- Leaflet JS -->
    <script
      src="https://unpkg.com/leaflet@1.5.1/dist/leaflet.js"
      integrity="sha512-GffPMF3RvMeYyc1LWMHtK8EbPv0iNZ8/oTtHPx9/cc2ILxQ+u905qIwdpULaqDkyBKgOaB57QTMg7ztg8Jm2Og=="
      crossorigin=""
    ></script>
    <!-- D3 library  -->
    <script src="https://d3js.org/d3.v7.js"></script>

    <!-- Load external JavaScript app -->
    <script src="js/app.js"></script>
  </body>
</html>
